<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="referrer" content="no-referrer" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>‡∏•‡πà‡∏≤‡∏Ç‡∏∏‡∏°‡∏û‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å 5 ‡∏´‡∏°‡∏π‡πà</title>
    
    <!-- 
      === ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö ONLINE (‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î) ===
      ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Offline ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡πÉ‡∏´‡πâ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå tailwindcss.js 
      ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå assets ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô src ‡πÄ‡∏õ‡πá‡∏ô "./assets/tailwindcss.js" 
    -->
    <script src="./assets/tailwindcss.js"></script>
    
    <style>
     /* --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏à‡∏≤‡∏Å assets --- */
        @font-face {
            font-family: 'Sarabun';
            src: url('./assets/Sarabun-Regular.ttf') format('truetype');
            font-weight: 400;
            font-style: normal;
        }
        @font-face {
            font-family: 'Sarabun';
            src: url('./assets/Sarabun-Bold.ttf') format('truetype');
            font-weight: 600; /* ‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏≤ */
        }
        @font-face {
            font-family: 'Sarabun';
            src: url('./assets/Sarabun-ExtraBold.ttf') format('truetype');
            font-weight: 800; /* ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏ç‡πà */
        }  
 /* ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏•‡∏±‡∏Å */
        body {
            font-family: 'Sarabun', 'Tahoma', sans-serif;
            touch-action: none; 
            background-color: #f0fdf4;
            height: 100vh; 
            width: 100vw;  
            overflow: hidden; 
            background-image: radial-gradient(#dcfce7 1px, transparent 1px);
            background-size: 20px 20px;
            user-select: none;
            -webkit-user-select: none;
            display: flex;
            flex-direction: column;
        }

        /* --- FLIP CARD CSS --- */
        .card-container {
            perspective: 1000px;
            cursor: pointer;
            position: relative;
            touch-action: none; 
            -webkit-tap-highlight-color: transparent;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
            -webkit-transform-style: preserve-3d; /* Safari Fix */
        }

        .card-container.is-flipped .card-inner {
            transform: rotateY(180deg);
            -webkit-transform: rotateY(180deg); /* Safari Fix */
        }

        .card-container.is-locked {
            opacity: 0.6;
            cursor: not-allowed;
            filter: grayscale(0.5);
            pointer-events: none;
        }

        .card-front, .card-back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden; 
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid #e5e7eb;
            background-color: white;
            overflow: hidden;
            transform: translateZ(0); 
            -webkit-transform: translateZ(0); /* Safari Fix */
        }

        .card-front {
            background-color: #fef08a;
            border-color: #facc15;
            z-index: 2;
        }

        .card-back {
            background-color: white;
            transform: rotateY(180deg);
            -webkit-transform: rotateY(180deg); /* Safari Fix */
            z-index: 1;
            transform: rotateY(180deg) translateZ(0);
            -webkit-transform: rotateY(180deg) translateZ(0); /* Safari Fix */
        }

        .card-container.is-flipped { cursor: grab; }
        .card-container.is-flipped:active { cursor: grabbing; }

        /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏•‡∏≤‡∏Å */
        .dragging-clone {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            transition: none !important;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            transform-origin: center center;
            opacity: 0.9;
        }
        
        .dragging-clone .card-inner {
            transform: rotateY(180deg) scale(1.1);
            -webkit-transform: rotateY(180deg) scale(1.1);
        }

        .invisible-placeholder { opacity: 0.0; }

        /* Drop Zones */
        .drop-zone {
            transition: transform 0.2s ease, background-color 0.2s;
            position: relative;
        }
        .drop-zone.drag-over {
            transform: scale(1.05);
            border: 3px dashed #22c55e;
            background-color: #dcfce7 !important;
        }

        /* Animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .shake { animation: shake 0.3s ease-in-out; border-color: #ef4444 !important; }
        
        /* NEW: Star Pop Animation (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏û‡∏≠‡∏î‡∏µ) */
        @keyframes star-pop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            80% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1.1); opacity: 0; }
        }

        .star-feedback {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            /* FIX: ‡πÉ‡∏ä‡πâ % ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (Parent) */
            width: 85%; 
            height: 85%;
            object-fit: contain;
            pointer-events: none;
            z-index: 100;
            animation: star-pop 0.7s ease-out forwards;
        }
        
        /* Warning Animation */
        @keyframes screen-flash {
            0%, 100% { box-shadow: inset 0 0 0 0 transparent; }
            50% { box-shadow: inset 0 0 50px 20px rgba(255, 0, 0, 0.3); }
        }
        .warning-flash {
            animation: screen-flash 1s infinite;
        }

        /* Image Fallback */
        .img-fallback { display: none; font-size: 1.5rem; color: #ccc; }
        img.error + .img-fallback { display: block; }
        img.error { display: none; }
        .img-thumb-fallback { 
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background-color: #e5e7eb;
            color: #4b5563;
        }

        /* Custom Scrollbars */
        .custom-scrollbar::-webkit-scrollbar { width: 8px; height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .custom-scrollbar-thin::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 4px; }
        .custom-scrollbar-thin::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.4); }

        .text-balance { text-wrap: balance; }
        
        /* Sticky Header */
        .sticky-header th {
            position: sticky;
            top: 0;
            z-index: 20; 
            background-color: #d1fae5; 
        }
        .table-container { position: relative; z-index: 10; }
    </style>
</head>
<body>

    <!-- 1. COVER SCREEN -->
    <div id="coverScreen" class="fixed inset-0 z-[60] w-full h-full bg-gradient-to-br from-green-50 to-blue-50 overflow-y-auto custom-scrollbar flex p-4">
        
        <div class="m-auto bg-white rounded-3xl shadow-2xl p-5 md:p-8 w-full max-w-3xl border-4 border-white ring-4 ring-green-100 flex flex-col items-center md:-translate-y-[1px]">
            
            <div class="mt-2 mb-4 flex-shrink-0">
                <img id="coverStarLogo" src="./assets/‡∏î‡∏≤‡∏ß.png" 
                     class="w-24 h-24 md:w-32 md:h-32 object-contain drop-shadow-md" 
                     alt="Star Logo"
                     onerror="this.classList.add('error')">
                <div class="img-fallback text-5xl">‚≠ê</div>
            </div>

            <div class="w-full text-center mb-3 md:mb-4 flex-shrink-0">
                <h1 class="text-2xl sm:text-3xl md:text-5xl font-extrabold text-red-600 mb-1 drop-shadow-sm tracking-tight leading-tight text-balance">
                    ‡∏•‡πà‡∏≤‡∏Ç‡∏∏‡∏°‡∏û‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å 5 ‡∏´‡∏°‡∏π‡πà
                </h1>
                <p class="text-gray-600 text-xs md:text-lg font-medium mb-2">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà 4 ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏û‡∏¥‡∏ä‡∏¥‡∏ï‡∏î‡∏≤‡∏ß‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</p>

                <div class="bg-green-50 px-3 py-1.5 md:px-4 md:py-2 rounded-lg inline-block">
                    <h3 class="text-green-800 font-bold text-xs md:text-base">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h3>
                    <h4 class="text-green-600 font-semibold text-[10px] md:text-sm">‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏µ‡∏ó‡∏µ‡πà 3</h4>
                </div>
            </div>

            <button onclick="goToSetup()" class="px-6 py-2 md:px-10 md:py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white text-lg md:text-2xl font-extrabold rounded-full shadow-lg transform transition hover:scale-105 active:scale-95 border-b-4 border-green-800 animate-pulse mb-3 md:mb-5 flex-shrink-0">
                ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏Å‡∏° ‚ñ∂
            </button>

            <div class="w-full pt-2 md:pt-3 border-t-2 border-gray-100 text-center flex-shrink-0 mb-2">
                <p class="text-gray-600 font-bold text-sm md:text-base">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥: ‡∏ô‡∏≤‡∏¢‡∏¢‡∏á‡∏¢‡∏® ‡∏®‡∏¥‡∏£‡∏¥‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</p>
                <p class="text-gray-500 text-xs md:text-sm font-medium mt-1">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡∏Ñ‡∏£‡∏π ‡∏ß‡∏¥‡∏ó‡∏¢‡∏ê‡∏≤‡∏ô‡∏∞ ‡∏Ñ‡∏£‡∏π‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©</p>
                <div class="flex items-center justify-center gap-2 mt-1.5 opacity-90">
                    <img id="coverSchoolLogo" src="./assets/‡∏ï‡∏£‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°.png" 
                         class="w-5 h-5 md:w-6 md:h-6 object-contain" alt="School Logo" onerror="this.classList.add('error')">
                    <p class="text-gray-500 text-xs md:text-sm font-medium">‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 2. SETUP SCREEN -->
<div id="setupScreen" class="hidden fixed inset-0 z-50 w-full h-full bg-slate-50/95 backdrop-blur-sm overflow-hidden flex p-4">
        
        <div class="bg-white rounded-3xl shadow-2xl w-full max-w-md text-center border border-gray-100 flex flex-col m-auto max-h-[90vh]">
            
            <div class="p-4 border-b border-gray-100 relative shrink-0 z-10 bg-white rounded-t-3xl">
                <button onclick="goBackToCover()" class="absolute left-3 top-4 p-2 bg-gray-50 rounded-full text-gray-500 hover:text-green-600 hover:bg-green-100 transition shadow-sm border border-gray-200 group">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:scale-110 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                
                <div class="px-12">
                    <h1 class="text-xl md:text-2xl font-extrabold text-green-700 mb-1">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h1>
                    <p class="text-xs md:text-sm text-gray-500">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡∏°‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°</p>
                </div>
            </div>

            <div class="p-4 pt-2 overflow-y-auto custom-scrollbar flex-1">
                
                <div class="bg-orange-50 border-2 border-orange-200 rounded-xl p-3 mb-4 text-left shadow-sm relative mt-3">
                    <div class="absolute -top-3 -left-2 bg-orange-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-md">‡∏Ñ‡∏≥‡∏ä‡∏µ‡πâ‡πÅ‡∏à‡∏á</div>
                    <p class="text-gray-900 text-sm leading-relaxed mt-1 mb-2">
                        <span class="mr-1">üìù</span> ‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ ‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å 5 ‡∏´‡∏°‡∏π‡πà ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
                    </p>
                    <div class="border-t border-orange-200 pt-2 mt-2">
                        <h4 class="text-xs font-bold text-orange-800 mb-1">üéØ ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô:</h4>
                        <ul class="text-xs text-gray-700 space-y-1 ml-1">
                            <li class="flex items-center"><span class="mr-1 text-green-600">‚úÖ</span> ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å +10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</li>
                            <li class="flex items-center"><span class="mr-1 text-red-600">‚ùå</span> ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î -5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</li>
                            <li class="flex items-center"><span class="mr-1 text-blue-600">‚è≥</span> ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏•‡∏∞ +1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</li>
                        </ul>
                    </div>
                </div>
                
                <div class="w-full space-y-3 pb-1">
                    <div class="text-left">
                        <label class="block text-sm font-bold mb-1 text-gray-800">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡∏°‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô:</label>
                        <select id="teamCount" class="w-full p-2 border-2 border-gray-300 rounded-xl bg-white font-bold text-gray-800 focus:ring-4 focus:ring-green-200 outline-none transition text-sm" onchange="generateTeamInputs()">
                            <option value="1">1 ‡∏ó‡∏µ‡∏°</option>
                            <option value="2">2 ‡∏ó‡∏µ‡∏°</option>
                            <option value="3">3 ‡∏ó‡∏µ‡∏°</option>
                            <option value="4">4 ‡∏ó‡∏µ‡∏°</option>
                            <option value="5">5 ‡∏ó‡∏µ‡∏°</option>
                        </select>
                    </div>

                    <div id="teamNameContainer" class="space-y-2 p-1"></div>
                </div>
            </div>

            <div class="p-4 border-t border-gray-100 bg-gray-50 rounded-b-3xl shrink-0 z-10">
                <button onclick="startGame()" class="w-full bg-gradient-to-b from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-yellow-900 text-lg font-extrabold py-3 px-6 rounded-2xl shadow-lg transform transition hover:scale-105 active:scale-95 border-b-4 border-yellow-600">
                    ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô! üèÅ
                </button>
            </div>

        </div>
    </div>

    <!-- 3. GAME SCREEN -->
    <div id="gameScreen" class="hidden flex-col h-full w-full max-w-[1400px] mx-auto bg-white shadow-2xl md:border-x md:border-gray-200 relative">
        
        <header class="bg-white border-b border-gray-200 px-3 py-2 flex justify-between items-center z-10 shrink-0 h-14">
            <div class="flex items-center space-x-2">
	    <button onclick="goHomeWithConfirm()" class="bg-gray-100 hover:bg-red-100 text-gray-600 hover:text-red-500 p-2 rounded-full border border-gray-300 transition shadow-sm group" title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (ESC)">
    		<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:scale-110 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
    		</svg>
	    </button>
                <div class="bg-blue-100 text-blue-900 px-3 py-0.5 rounded-full font-bold text-sm border-2 border-blue-200 shadow-sm truncate max-w-[120px] md:max-w-xs">
                     <span id="currentTeamName">...</span>
                </div>
            </div>
            <div class="flex space-x-2 text-base font-extrabold">
                <div id="timerBox" class="text-red-600 flex items-center bg-red-50 px-2 py-0.5 rounded-lg border border-red-100 shadow-sm transition-colors">
                    ‚è≥ <span id="timerDisplay" class="ml-1 w-14 text-center font-mono">03:00</span>
                </div>
                <div class="text-green-600 flex items-center bg-green-50 px-2 py-0.5 rounded-lg border border-green-100 shadow-sm">
                    ‚≠ê <span id="scoreDisplay" class="ml-1 w-8 text-center">0</span>
                </div>
            </div>
        </header>

        <div class="p-2 bg-slate-50 border-b-4 border-slate-200 shrink-0">
            <div class="grid grid-cols-5 gap-1 md:gap-2 h-full min-h-[100px] md:min-h-[180px]" id="zonesContainer"></div>
        </div>

        <div class="flex-1 bg-white p-2 relative z-20 shadow-inner flex flex-col min-h-0 overflow-hidden">
            <h3 class="text-center text-gray-500 text-xs mb-2 uppercase tracking-wide font-bold bg-slate-100 py-1 rounded-full mx-auto px-4 inline-block w-fit shadow-sm border border-slate-200 shrink-0">
                üëá ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≤‡∏Å‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ üëá
            </h3>
            <div id="foodContainer" class="flex flex-wrap justify-center content-start gap-2 md:gap-3 overflow-y-auto h-full pb-20 pt-2 px-2 custom-scrollbar"></div>
        </div>

        <div id="interstitialScreen" class="hidden absolute inset-0 z-[150] bg-slate-50/95 flex flex-col items-center justify-center p-4 text-slate-800 text-center">
            <h2 class="text-3xl md:text-5xl font-extrabold mb-6 text-green-700 drop-shadow-sm">‡∏à‡∏ö‡∏ï‡∏≤‡∏Ç‡∏≠‡∏á <span id="prevTeamName" class="text-yellow-600 block mt-2"></span></h2>
            <div class="text-xl md:text-3xl mb-8 space-y-3 bg-white p-8 rounded-3xl w-full max-w-lg border-2 border-green-100 shadow-xl">
                <p class="text-gray-500 font-medium">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ</p>
                <div class="flex items-end justify-center">
                    <p class="text-green-600 text-6xl font-extrabold leading-none"><span id="prevTeamTotalScore">0</span></p>
                    <span class="text-xl ml-2 mb-1">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
                </div>
                <div class="pt-3 border-t border-gray-100 text-sm md:text-base font-semibold space-y-1">
                    <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô: <span id="prevTeamBaseScore" class="text-gray-700 ml-1">0</span></p>
                    <p>‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏ß‡∏•‡∏≤: <span id="prevTeamBonusScore" class="text-yellow-600 ml-1">0</span></p>
                </div>
                <p class="text-sm text-gray-500">‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="prevTeamTime" class="font-bold text-blue-600 ml-1 font-mono"></span></p>
            </div>
            
            <button id="nextBtnText" onclick="nextTeam()" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-extrabold py-5 px-8 rounded-full text-xl md:text-3xl shadow-lg transition transform hover:scale-105 border-b-4 border-green-700 w-full max-w-md h-auto flex flex-col items-center justify-center leading-relaxed">
                <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
            </button>
        </div>
        
        <div id="timeUpModal" class="hidden absolute inset-0 z-[70] bg-red-900/90 flex flex-col items-center justify-center p-4 text-white text-center animate-bounce-in">
            <div class="text-8xl mb-4">‚è∞</div>
            <h1 class="text-5xl md:text-7xl font-extrabold mb-4">‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤!</h1>
            <p class="text-xl md:text-2xl mb-8">‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß</p>
            <button onclick="confirmTimeUp()" class="bg-white text-red-600 font-bold py-3 px-10 rounded-full text-2xl shadow-xl hover:bg-gray-100 transition">
                ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üìù
            </button>
        </div>
    </div>

    <!-- 4. Leaderboard -->
    <div id="leaderboardScreen" class="hidden fixed inset-0 z-50 w-full h-full bg-slate-50/95 flex items-center justify-center p-4 overflow-y-auto">
        <div class="bg-white rounded-[2.5rem] shadow-2xl p-4 md:p-8 w-full max-w-4xl text-center border-4 border-green-200 flex flex-col m-auto max-h-[95vh] h-auto">
            
            <div class="flex flex-row flex-nowrap justify-center items-center gap-2 mb-4 md:mb-6 flex-shrink-0">
                <span class="text-xl md:text-5xl">üèÜ</span>
                <h1 class="text-lg sm:text-2xl md:text-5xl font-extrabold text-green-700 drop-shadow-md whitespace-nowrap">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h1>
                <span class="text-xl md:text-5xl">üèÜ</span>
            </div>
            
            <div class="w-full mb-4 flex-1 min-h-0 border-2 border-green-100 rounded-2xl shadow-inner bg-green-50 overflow-y-auto custom-scrollbar-thin table-container">
                <table class="w-full text-left border-collapse table-fixed">
                    <thead class="bg-green-200 border-b-2 border-green-300 sticky-header">
                        <tr>
                            <th class="p-2 md:p-3 text-xs md:text-xl text-green-900 font-bold whitespace-nowrap text-center w-[15%]">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                            <th class="p-2 md:p-3 text-xs md:text-xl text-green-900 font-bold text-left w-[40%]">‡∏ó‡∏µ‡∏°</th>
                            <th class="p-2 md:p-3 text-xs md:text-xl text-green-900 font-bold text-center w-[15%]">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
                            <th class="p-2 md:p-3 text-xs md:text-xl text-green-900 font-bold text-right whitespace-nowrap w-[30%]">‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboardBody" class="bg-white divide-y-2 divide-green-100"></tbody>
                </table>
            </div>
            
            <button onclick="playAgain()" class="bg-gradient-to-b from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-yellow-900 font-bold py-2 md:py-3 px-8 md:px-10 rounded-2xl text-base md:text-2xl shadow-xl transition transform hover:scale-105 border-b-4 border-yellow-600 shrink-0 mx-auto">
                ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà üîÑ
            </button>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div id="confirmModal" class="hidden absolute inset-0 z-[80] bg-black/60 flex flex-col items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-sm text-center border-4 border-yellow-400 transform transition-all scale-100">
            <div class="text-6xl mb-4 animate-bounce">üè†</div>
            <h2 class="text-2xl font-extrabold text-gray-800 mb-2">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å?</h2>
            <p class="text-gray-600 mb-6 text-sm">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡πâ‡∏≤‡∏á<br>‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?</p>
            <div class="flex gap-3 justify-center">
                <button onclick="hideConfirmModal()" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-xl transition text-lg">‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>
                <button onclick="confirmGoHome()" class="flex-1 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-xl transition text-lg shadow-lg">‡∏≠‡∏≠‡∏Å‡πÄ‡∏•‡∏¢</button>
            </div>
        </div>
    </div>

    <script>
        const backCardImage = `./assets/‡∏î‡∏≤‡∏ß.png`;
        const schoolLogoImage = `./assets/‡∏ï‡∏£‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏ô‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°.png`;
        
        const foodData = [
            { id: 101, name: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÑ‡∏Å‡πà", group: 1, img: `./assets/‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÑ‡∏Å‡πà.png` },
            { id: 102, name: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏õ‡∏•‡∏≤", group: 1, img: `./assets/‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏õ‡∏•‡∏≤.png` },
            { id: 103, name: "‡πÑ‡∏Ç‡πà", group: 1, img: `./assets/‡πÑ‡∏Ç‡πà.png` },
            { id: 104, name: "‡∏ô‡∏°", group: 1, img: `./assets/‡∏ô‡∏°.png` },
            { id: 105, name: "‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏°‡∏•‡πá‡∏î‡πÅ‡∏´‡πâ‡∏á", group: 1, img: `./assets/‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏°‡∏•‡πá‡∏î‡πÅ‡∏´‡πâ‡∏á.png` },
            { id: 106, name: "‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ", group: 1, img: `./assets/‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ.png` },
            { id: 201, name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏ß‡∏¢", group: 2, img: `./assets/‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏ß‡∏¢.png` },
            { id: 202, name: "‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á", group: 2, img: `./assets/‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á.png` },
            { id: 203, name: "‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß", group: 2, img: `./assets/‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß.png` },
            { id: 204, name: "‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î", group: 2, img: `./assets/‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î.png` },
            { id: 205, name: "‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å ‡∏°‡∏±‡∏ô", group: 2, img: `./assets/‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å ‡∏°‡∏±‡∏ô.png` },
            { id: 206, name: "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", group: 2, img: `./assets/‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•.png` }, 
            { id: 301, name: "‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®", group: 3, img: `./assets/‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®.png` },
            { id: 302, name: "‡∏ú‡∏±‡∏Å‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤", group: 3, img: `./assets/‡∏ú‡∏±‡∏Å‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤.png` },
            { id: 303, name: "‡∏Å‡∏∞‡∏´‡∏•‡πà‡∏≥‡∏õ‡∏•‡∏µ", group: 3, img: `./assets/‡∏Å‡∏∞‡∏´‡∏•‡πà‡∏≥‡∏õ‡∏•‡∏µ.png` },
            { id: 304, name: "‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏Ç‡∏≤‡∏ß", group: 3, img: `./assets/‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏Ç‡∏≤‡∏ß.png` },
            { id: 305, name: "‡πÅ‡∏ï‡∏á‡∏Å‡∏ß‡∏≤", group: 3, img: `./assets/‡πÅ‡∏ï‡∏á‡∏Å‡∏ß‡∏≤.png` },
            { id: 306, name: "‡∏ú‡∏±‡∏Å‡∏ä‡∏µ", group: 3, img: `./assets/‡∏ú‡∏±‡∏Å‡∏ä‡∏µ.png` },
            { id: 401, name: "‡∏ù‡∏£‡∏±‡πà‡∏á", group: 4, img: `./assets/‡∏ù‡∏£‡∏±‡πà‡∏á.png` },
            { id: 402, name: "‡∏™‡πâ‡∏°", group: 4, img: `./assets/‡∏™‡πâ‡∏°.png` },
            { id: 403, name: "‡πÅ‡∏ï‡∏á‡πÇ‡∏°", group: 4, img: `./assets/‡πÅ‡∏ï‡∏á‡πÇ‡∏°.png` },
            { id: 404, name: "‡∏°‡∏∞‡∏•‡∏∞‡∏Å‡∏≠", group: 4, img: `./assets/‡∏°‡∏∞‡∏•‡∏∞‡∏Å‡∏≠.png` },
            { id: 405, name: "‡∏Å‡∏•‡πâ‡∏ß‡∏¢", group: 4, img: `./assets/‡∏Å‡∏•‡πâ‡∏ß‡∏¢.png` },
            { id: 406, name: "‡∏°‡∏±‡∏á‡∏Ñ‡∏∏‡∏î", group: 4, img: `./assets/‡∏°‡∏±‡∏á‡∏Ñ‡∏∏‡∏î.png` },
            { id: 501, name: "‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä", group: 5, img: `./assets/‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä.png` },
            { id: 502, name: "‡∏Å‡∏∞‡∏ó‡∏¥", group: 5, img: `./assets/‡∏Å‡∏∞‡∏ó‡∏¥.png` },
            { id: 503, name: "‡πÄ‡∏ô‡∏¢", group: 5, img: `./assets/‡πÄ‡∏ô‡∏¢.png` },
            { id: 504, name: "‡∏ä‡∏µ‡∏™ (‡πÄ‡∏ô‡∏¢‡πÅ‡∏Ç‡πá‡∏á)", group: 5, img: `./assets/‡∏ä‡∏µ‡∏™ (‡πÄ‡∏ô‡∏¢‡πÅ‡∏Ç‡πá‡∏á).png` },
            { id: 505, name: "‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏´‡∏°‡∏π", group: 5, img: `./assets/‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏´‡∏°‡∏π.png` },
            { id: 506, name: "‡∏ô‡πâ‡∏≥‡∏™‡∏•‡∏±‡∏î", group: 5, img: `./assets/‡∏ô‡πâ‡∏≥‡∏™‡∏•‡∏±‡∏î.png` }
        ];

        let teams = [];
        let currentTeamIndex = 0;
        let currentScore = 0;
        let timerInterval;
        let timeLeft = 180;
        let remainingItems = 0;
        let dropZonesRects = [];
        let draggedClone = null; 
        let originalItem = null;
        let currentFlippedCard = null;
        let touchOffsetX = 0;
        let touchOffsetY = 0;
        let initialX = 0;
        let initialY = 0;

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            const now = audioCtx.currentTime;

            if (type === 'correct') {
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(600, now);
                oscillator.frequency.exponentialRampToValueAtTime(1000, now + 0.1);
                gainNode.gain.setValueAtTime(0.3, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.5);
                oscillator.start(now);
                oscillator.stop(now + 0.5);
            } else if (type === 'wrong') {
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(150, now);
                oscillator.frequency.linearRampToValueAtTime(100, now + 0.2);
                gainNode.gain.setValueAtTime(0.3, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.2);
                oscillator.start(now);
                oscillator.stop(now + 0.2);
            } else if (type === 'tick') {
                oscillator.type = 'square';
                oscillator.frequency.setValueAtTime(800, now);
                gainNode.gain.setValueAtTime(0.1, now);
                gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                oscillator.start(now);
                oscillator.stop(now + 0.1);
            } else if (type === 'timeup') {
                oscillator.type = 'triangle';
                oscillator.frequency.setValueAtTime(1000, now);
                oscillator.frequency.linearRampToValueAtTime(200, now + 1);
                gainNode.gain.setValueAtTime(0.5, now);
                gainNode.gain.linearRampToValueAtTime(0.01, now + 1);
                oscillator.start(now);
                oscillator.stop(now + 1);
            }
        }

        function goToSetup() {
            document.getElementById('coverScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.remove('hidden');
            document.getElementById('setupScreen').classList.add('flex');
            generateTeamInputs(); 
        }

        function goBackToCover() {
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.remove('flex');
            document.getElementById('coverScreen').classList.remove('hidden');
        }

        function goHomeWithConfirm() {
            document.getElementById('confirmModal').classList.remove('hidden');
            document.getElementById('confirmModal').classList.add('flex');
        }

        function hideConfirmModal() {
            document.getElementById('confirmModal').classList.add('hidden');
            document.getElementById('confirmModal').classList.remove('flex');
        }

        function confirmGoHome() {
            hideConfirmModal();
            resetGame();
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.remove('flex');
            document.getElementById('coverScreen').classList.remove('hidden');
        }

        function resetGame() {
            teams = [];
            currentTeamIndex = 0;
            currentScore = 0;
            remainingItems = 0;
            clearInterval(timerInterval);
            document.body.classList.remove('warning-flash');
            
            document.getElementById('leaderboardScreen').classList.add('hidden');
            document.getElementById('leaderboardScreen').classList.remove('flex');
            document.getElementById('interstitialScreen').classList.add('hidden');
            document.getElementById('interstitialScreen').classList.remove('flex');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('flex');
            document.getElementById('timeUpModal').classList.add('hidden');
            document.getElementById('timeUpModal').classList.remove('flex');
            
            document.getElementById('setupScreen').classList.remove('hidden');
            document.getElementById('setupScreen').classList.add('flex');
            
            document.getElementById('teamCount').value = "1";
            generateTeamInputs(); 
        }
        
        function playAgain() {
            resetGame();
        }

        window.addEventListener('DOMContentLoaded', (event) => {
            init();
            
            document.addEventListener('keydown', (e) => {
                if (e.key === "Escape") {
                    if (!document.getElementById('confirmModal').classList.contains('hidden')) {
                        hideConfirmModal();
                        return;
                    }
                    
                    const gameVisible = !document.getElementById('gameScreen').classList.contains('hidden');
                    const leaderboardVisible = !document.getElementById('leaderboardScreen').classList.contains('hidden');
                    
                    if (gameVisible || leaderboardVisible) {
                        goHomeWithConfirm();
                    }
                }
            });
        });

        function init() {
            document.getElementById('coverStarLogo').src = backCardImage;
            document.getElementById('coverSchoolLogo').src = schoolLogoImage;
            
            generateTeamInputs(); 
            renderZones();
        }

        function renderZones() {
            const zones = [
                {id: 1, name: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠ ‡∏ô‡∏° ‡πÑ‡∏Ç‡πà ‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏°‡∏•‡πá‡∏î‡πÅ‡∏´‡πâ‡∏á", desc: "(‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô)", color: "red", icon: "ü•©"},
                {id: 2, name: "‡πÅ‡∏õ‡πâ‡∏á ‡∏Ç‡πâ‡∏≤‡∏ß ‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å ‡∏°‡∏±‡∏ô ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", desc: "(‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï)", color: "yellow", icon: "üçö"},
                {id: 3, name: "‡∏ú‡∏±‡∏Å", desc: "(‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡πà‡∏ò‡∏≤‡∏ï‡∏∏)", color: "green", icon: "ü•¶"},
                {id: 4, name: "‡∏ú‡∏•‡πÑ‡∏°‡πâ", desc: "(‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡πà‡∏ò‡∏≤‡∏ï‡∏∏)", color: "orange", icon: "üçä"},
                {id: 5, name: "‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏û‡∏∑‡∏ä‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ï‡∏ß‡πå", desc: "(‡πÑ‡∏Ç‡∏°‡∏±‡∏ô)", color: "gray", icon: "üßÄ"},
            ];

            const container = document.getElementById('zonesContainer');
            container.innerHTML = zones.map(z => `
                <div class="drop-zone bg-${z.color}-100 border-2 md:border-4 border-${z.color}-200 rounded-xl md:rounded-2xl flex flex-col items-center justify-center p-1 md:p-2 relative transition-all shadow-sm min-h-[100px] md:min-h-[220px]" data-group="${z.id}">
                    <div class="text-2xl md:text-5xl mb-2 md:mb-4 filter drop-shadow-sm">${z.icon}</div>
                    <div class="font-bold text-xs md:text-xl text-${z.color}-900 text-center leading-tight">
                        <span class="block text-[10px] md:text-base lg:text-lg text-gray-700 font-extrabold mb-1 md:mb-2">‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà ${z.id}</span>
                        ${z.name}
                    </div>
                    <p class="text-[9px] md:text-sm text-center text-${z.color}-700 leading-none mt-1 font-bold block">${z.desc}</p>
                    <div id="scoreFeedback-${z.id}" class="score-feedback hidden"></div>
                </div>
            `).join('');
        }

        function generateTeamInputs() {
            const count = document.getElementById('teamCount').value;
            const container = document.getElementById('teamNameContainer');
            container.innerHTML = '';
            for (let i = 1; i <= count; i++) {
                const input = document.createElement('input');
                input.type = 'text';
                input.id = `teamName${i}`;
                input.maxLength = 12;
                input.placeholder = `‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà ${i} (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 12 ‡∏ï‡∏±‡∏ß)`;
                input.value = `‡∏ó‡∏µ‡∏° ${i}`;
                input.className = "w-full p-2 border-2 border-gray-300 rounded-xl shadow-sm focus:ring-4 focus:ring-green-400 outline-none text-base text-gray-700 placeholder-gray-400";
                container.appendChild(input);
            }
        }

        function startGame() {
            teams = [];
            const count = document.getElementById('teamCount').value;
            for (let i = 1; i <= count; i++) {
                let name = document.getElementById(`teamName${i}`).value || `‡∏ó‡∏µ‡∏° ${i}`;
                teams.push({ name: name, score: 0, time: 0, timeFormatted: "", baseScore: 0, bonusTime: 0 });
            }
            
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.remove('flex');
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('gameScreen').classList.add('flex');
            
            startTeamTurn();
        }

        function startTeamTurn() {
            const team = teams[currentTeamIndex];
            
            let displayName = team.name.trim().startsWith("‡∏ó‡∏µ‡∏°") ? team.name : `‡∏ó‡∏µ‡∏° ${team.name}`;
            document.getElementById('currentTeamName').innerText = displayName;

            currentScore = 0;
            timeLeft = 180; 
            updateScoreDisplay();
            updateTimerDisplay();
            currentFlippedCard = null; 
            document.body.classList.remove('warning-flash');
            document.getElementById('timerBox').classList.remove('bg-red-50', 'text-red-600');
            document.getElementById('timerBox').classList.add('bg-red-50', 'text-red-600');
            document.getElementById('timeUpModal').classList.add('hidden');
            document.getElementById('timeUpModal').classList.remove('flex');
            
            const container = document.getElementById('foodContainer');
	    container.scrollTop = 0;  // ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ Scrollbar ‡∏î‡∏µ‡∏î‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
            container.innerHTML = '';
            
            const shuffledFood = [...foodData].sort(() => Math.random() - 0.5);
            remainingItems = shuffledFood.length;

            shuffledFood.forEach(food => {
                const cardContainer = document.createElement('div');
                cardContainer.className = 'card-container w-20 h-24 md:w-28 md:h-36 m-1 md:m-2 transition-all hover:scale-105'; 
                cardContainer.setAttribute('data-id', food.id);
                cardContainer.setAttribute('data-group', food.group);

                const cardInner = document.createElement('div');
                cardInner.className = 'card-inner';

                const cardFront = document.createElement('div');
                cardFront.className = 'card-front flex items-center justify-center';
                cardFront.innerHTML = `<img src="${backCardImage}" class="w-10 h-10 md:w-16 md:h-16 object-contain pointer-events-none" alt="Star" onerror="this.classList.add('error')"><div class="img-fallback text-3xl md:text-5xl">‚≠ê</div>`;

                const cardBack = document.createElement('div');
                cardBack.className = 'card-back flex flex-col items-center justify-center';
                cardBack.innerHTML = `<img src="${food.img}" class="w-12 h-12 md:w-20 md:h-20 object-contain mb-1 pointer-events-none" alt="${food.name}" onerror="this.classList.add('error')"><div class="img-fallback text-xl md:text-3xl">‚ùì</div><div class="text-[10px] md:text-sm font-bold text-gray-800 pointer-events-none px-1 text-center leading-tight">${food.name}</div>`;

                cardInner.appendChild(cardFront);
                cardInner.appendChild(cardBack);
                cardContainer.appendChild(cardInner);

                cardContainer.onclick = function() {
                    if (this.classList.contains('is-flipped')) return; 
                    if (currentFlippedCard) return; 
                    this.classList.add('is-flipped');
                    currentFlippedCard = this;
                    document.querySelectorAll('.card-container').forEach(el => {
                        if (el !== this && !el.classList.contains('is-flipped')) el.classList.add('is-locked');
                    });
                };
                addDragLogic(cardContainer);
                container.appendChild(cardContainer);
            });

            if(timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(gameLoop, 1000);
        }

        function gameLoop() {
            timeLeft--;
            updateTimerDisplay();

            if (timeLeft <= 30) {
                document.getElementById('timerBox').classList.remove('bg-red-50', 'text-red-600');
                document.getElementById('timerBox').classList.add('bg-red-500', 'text-white');
            }
            
            if (timeLeft <= 10 && timeLeft > 0) {
                document.body.classList.add('warning-flash');
                playSound('tick');
            }

            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                handleTimeUp();
            }
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timerDisplay').innerText = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function handleTimeUp() {
            document.body.classList.remove('warning-flash');
            playSound('timeup');
            document.getElementById('timeUpModal').classList.remove('hidden');
            document.getElementById('timeUpModal').classList.add('flex');
        }

        function confirmTimeUp() {
            document.getElementById('timeUpModal').classList.add('hidden');
            document.getElementById('timeUpModal').classList.remove('flex');
            endTurn();
        }

        function updateScoreDisplay() {
            document.getElementById('scoreDisplay').innerText = currentScore;
        }

        /* --- Drag and Drop Logic (Stable - Restore Original Logic) --- */

        function addDragLogic(el) {
            el.addEventListener('mousedown', dragStart);
            el.addEventListener('touchstart', dragStart, {passive: false});
        }

        function dragStart(e) {
            const target = e.target.closest('.card-container');
            if (!target || !target.classList.contains('is-flipped')) return;
            if (draggedClone) return;
            e.preventDefault();
            originalItem = target;
            const rect = originalItem.getBoundingClientRect();
            let clientX, clientY;
            if (e.type === "touchstart") {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            touchOffsetX = clientX - rect.left;
            touchOffsetY = clientY - rect.top;
            draggedClone = originalItem.cloneNode(true);
            draggedClone.classList.add('dragging-clone');
            draggedClone.style.width = rect.width + 'px';
            draggedClone.style.height = rect.height + 'px';
            draggedClone.style.left = rect.left + 'px';
            draggedClone.style.top = rect.top + 'px';
            const inner = draggedClone.querySelector('.card-inner');
            inner.style.transform = 'rotateY(180deg)';
            originalItem.classList.add('invisible-placeholder');
            document.body.appendChild(draggedClone);
            dropZonesRects = Array.from(document.querySelectorAll('.drop-zone')).map(z => ({
                el: z,
                rect: z.getBoundingClientRect(),
                group: parseInt(z.getAttribute('data-group'))
            }));
            document.addEventListener('mouseup', dragEnd);
            document.addEventListener('touchend', dragEnd);
            document.addEventListener('mousemove', drag, {passive: false});
            document.addEventListener('touchmove', drag, {passive: false});
        }

        function drag(e) {
            if (!draggedClone) return;
            e.preventDefault();
            let clientX, clientY;
            if (e.type === "touchmove") {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            const x = clientX - touchOffsetX;
            const y = clientY - touchOffsetY;
            draggedClone.style.left = x + 'px';
            draggedClone.style.top = y + 'px';
            const centerX = x + (draggedClone.offsetWidth / 2);
            const centerY = y + (draggedClone.offsetHeight / 2);
            checkHover(centerX, centerY);
        }

        function checkHover(x, y) {
            dropZonesRects.forEach(zone => {
                if (x >= zone.rect.left && x <= zone.rect.right && y >= zone.rect.top && y <= zone.rect.bottom) {
                    zone.el.classList.add('drag-over');
                } else {
                    zone.el.classList.remove('drag-over');
                }
            });
        }

        function dragEnd(e) {
            if (!draggedClone) return;
            let dropped = false;
            const rect = draggedClone.getBoundingClientRect();
            const centerX = rect.left + (rect.width / 2);
            const centerY = rect.top + (rect.height / 2);
            const itemGroup = parseInt(draggedClone.getAttribute('data-group'));
            
            // Loop with break to prevent double counting
            for (const zone of dropZonesRects) {
                zone.el.classList.remove('drag-over');
                if (centerX >= zone.rect.left && centerX <= zone.rect.right && centerY >= zone.rect.top && centerY <= zone.rect.bottom) {
                    if (itemGroup === zone.group) {
                        handleCorrect(originalItem, zone.el);
                        dropped = true;
                        break; 
                    } else {
                        handleWrong(originalItem, zone.el); // Pass zone.el for wrong feedback
                        dropped = true;
                        break;
                    }
                }
            }
            
            draggedClone.remove();
            draggedClone = null;
            if (!dropped) {
                originalItem.classList.remove('invisible-placeholder');
            }
            dropZonesRects = [];
            document.removeEventListener('mouseup', dragEnd);
            document.removeEventListener('touchend', dragEnd);
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('touchmove', drag);
        }

        function createScoreFeedback(zone, score, isCorrect) {
            const existingFeedback = zone.querySelector('.score-feedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }
            const existingStar = zone.querySelector('.star-feedback');
            if (existingStar) {
                existingStar.remove();
            }

            if (isCorrect) {
                // FIX: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏î‡∏≤‡∏ß‡πÄ‡∏î‡πâ‡∏á‡πÅ‡∏ó‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
                const star = document.createElement('img');
                star.src = backCardImage;
                star.className = 'star-feedback'; // ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏≤‡∏™ CSS ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà
                zone.appendChild(star);
                setTimeout(() => {
                    star.remove();
                }, 1000);
            } else {
                // FIX: ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏∞‡πÑ‡∏£ (No visual feedback)
                return;
            }
        }

        function handleCorrect(item, zone) {
            playSound('correct'); 
            currentScore += 10;
            updateScoreDisplay();
            createScoreFeedback(zone, 10, true); 
            item.remove();
            currentFlippedCard = null;
            document.querySelectorAll('.card-container').forEach(el => {
                el.classList.remove('is-locked');
            });
            zone.style.backgroundColor = '#bbf7d0'; 
            setTimeout(() => { zone.style.backgroundColor = ''; }, 300);
            remainingItems--;
            
            // FIX: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠ ‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏ï‡πà‡∏£‡∏≠ 1.2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô feedback +10 ‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏î‡∏†‡∏≤‡∏û‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏ö
            if (remainingItems <= 0) {
                clearInterval(timerInterval); // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏•‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠
                setTimeout(() => {
                    endTurn();
                }, 1200);
            }
        }

        function handleWrong(item, zone) {
            playSound('wrong');
            currentScore = Math.max(0, currentScore - 5);
            updateScoreDisplay();
            createScoreFeedback(zone, -5, false); 
            item.classList.remove('invisible-placeholder');
            item.classList.add('shake');
            zone.classList.add('shake'); 
            setTimeout(() => {
                item.classList.remove('shake');
                zone.classList.remove('shake');
                item.classList.remove('is-flipped');
                currentFlippedCard = null; 
                document.querySelectorAll('.card-container').forEach(el => {
                    el.classList.remove('is-locked');
                });
            }, 500);
        }

        /* --- Turn and Game End (Modified for Score Display) --- */

        function endTurn() {
            clearInterval(timerInterval);
            document.body.classList.remove('warning-flash');
            
            if (!teams[currentTeamIndex]) return;

            const baseScore = currentScore;
            const bonusScore = timeLeft > 0 ? timeLeft : 0; 
            const totalScore = baseScore + bonusScore; 

            teams[currentTeamIndex].score = totalScore; 
            teams[currentTeamIndex].baseScore = baseScore; 
            teams[currentTeamIndex].bonusScore = bonusScore; 
            teams[currentTeamIndex].time = timeLeft; 
            
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            teams[currentTeamIndex].timeFormatted = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            const interstitial = document.getElementById('interstitialScreen');
            if (interstitial) {
                // FIX: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏ó‡∏µ‡∏°" ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏à‡∏ö‡∏ï‡∏≤
                let headerName = teams[currentTeamIndex].name;
                if (!headerName.trim().startsWith("‡∏ó‡∏µ‡∏°")) {
                    headerName = `‡∏ó‡∏µ‡∏° ${headerName}`;
                }
                document.getElementById('prevTeamName').innerText = headerName;
                
                document.getElementById('prevTeamTotalScore').innerText = totalScore; 
                document.getElementById('prevTeamBaseScore').innerText = baseScore;
                document.getElementById('prevTeamBonusScore').innerText = bonusScore;
                document.getElementById('prevTeamTime').innerText = teams[currentTeamIndex].timeFormatted;
                
                const nextBtn = document.getElementById('nextBtnText');
                if (currentTeamIndex >= teams.length - 1) {
                    nextBtn.innerHTML = "‡∏î‡∏π‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üèÜ";
                } else {
                    if (teams[currentTeamIndex + 1]) {
                         let nextName = teams[currentTeamIndex + 1].name;
                         let displayName = nextName.trim().startsWith("‡∏ó‡∏µ‡∏°") ? nextName : `‡∏ó‡∏µ‡∏° ${nextName}`;
                         
                         // FIX: ‡∏à‡∏±‡∏î Layout ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥ (... ellipsis)
                         nextBtn.innerHTML = `
                            <div class="flex items-center justify-center w-full max-w-full">
                                <span class="truncate max-w-[150px] md:max-w-[250px] inline-block align-bottom" title="${displayName}">${displayName}</span>
                                <span class="whitespace-nowrap ml-2">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏Ç‡πà‡∏á ‚ñ∂</span>
                            </div>
                         `;
                    }
                }

                interstitial.classList.remove('hidden');
                interstitial.classList.add('flex');
            }
        }

        function nextTeam() {
            document.getElementById('interstitialScreen').classList.add('hidden');
            document.getElementById('interstitialScreen').classList.remove('flex');

            currentTeamIndex++;
            if (currentTeamIndex < teams.length) {
                startTeamTurn();
            } else {
                showLeaderboard();
            }
        }

        function showLeaderboard() {
            document.getElementById('gameScreen').classList.remove('flex');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('leaderboardScreen').classList.remove('hidden');
            document.getElementById('leaderboardScreen').classList.add('flex');

            // ‡∏à‡∏±‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö: ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô, ‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô
            teams.sort((a, b) => {
                if (b.score !== a.score) return b.score - a.score;
                return b.time - a.time;
            });

            const tbody = document.getElementById('leaderboardBody');
            tbody.innerHTML = '';
            
            teams.forEach((team, index) => {
                let rankClass = "text-gray-600";
                let badge = "";
                // FIX: ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏Ç‡∏≠‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1-5 ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô
                const baseClass = "text-xs md:text-xl font-bold";
                const scoreTimeClass = "text-xs md:text-xl font-extrabold";

                if (index === 0) { rankClass = "text-yellow-600 " + baseClass; badge = "ü•á"; }
                else if (index === 1) { rankClass = "text-gray-500 " + baseClass; badge = "ü•à"; }
                else if (index === 2) { rankClass = "text-orange-700 " + baseClass; badge = "ü•â"; }
                else { rankClass = "text-gray-700 " + baseClass; } // ‡∏•‡∏≥‡∏î‡∏±‡∏ö 4 ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ

                tbody.innerHTML += `
                    <tr class="hover:bg-green-50 transition border-b border-green-50">
                        <td class="p-1.5 md:p-2.5 text-center whitespace-nowrap w-[15%] ${rankClass}">${index + 1} ${badge}</td>
                        <td class="p-1.5 md:p-2.5 font-bold text-xs md:text-xl text-gray-800 truncate max-w-[80px] md:max-w-xs" title="${team.name}">${team.name}</td>
                        <td class="p-1.5 md:p-2.5 text-center text-green-600 ${scoreTimeClass} w-[15%]">${team.score}</td>
                        <td class="p-1.5 md:p-2.5 text-right text-gray-500 font-mono ${scoreTimeClass} whitespace-nowrap w-[30%]">${team.timeFormatted}</td>
                    </tr>
                `;
            });
        }
    </script>
</body>
</html>